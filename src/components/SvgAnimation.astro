<script>
  import { animate, inView } from "motion";

  const transition = {
    duration: 0.8,
    ease: [0.5, 0, 0, 1], // почему-то ошибка из-за этой строки
    delay: 0.2,
  };

  const keyframes = {
    pathLength: [0, 1],
    fill: ["rgba(87, 113, 140, 0)", "rgba(87, 113, 140, 1)"],
    // opacity: [0, 1],
  };

  inView(
    ".svg-animation",
    (element, info) => {
      const item = element.querySelectorAll("path");
      item[0].classList.add("svg-item");
      console

      const animation = animate(item[0], keyframes, transition);
      animation.play();
      return () => {
        animate(item[0], { pathLength: [1, 0] }, { instant: true });
      };
    },
    { amount: 0.5 }
  );
</script>
<span class="svg-animation underline-draw">
  <slot />
</span>
