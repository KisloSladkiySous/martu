---
import Underline from "../assets/icons/sign/hover-underline.svg";
import FirstSign from "../assets/icons/sign/review-sign-1.svg";
import SecondSign from "../assets/icons/sign/review-sign-2.svg";
import Subtle from "./Subtle.astro";
import SvgAnimation from "./SvgAnimation.astro";
const { className } = Astro.props;
---

<div class:list={[className, "section-column__wrapper"]}>
  <Subtle lines={["Отзывы тех, кто доверил нам самое важное"]} delay={400} />
  <h2 class="section__title">
    То, что <span class="brand-color italic underline"
      >невозможно

      <SvgAnimation>
        <FirstSign />
      </SvgAnimation>
    </span>
    <br />
    <span class="brand-color italic underline"
      >придумать
      <SvgAnimation delay={0.6}>
        <SecondSign />
      </SvgAnimation>
    </span> — только <br /> прожить
  </h2>
  <div class="review-description">
    <p>
      И когда спустя месяцы или даже годы нам пишут: <br /> «Мы до сих пор вспоминаем
      тот день, как самый <br /> счастливый» — это больше, чем любая награда.
    </p>
    <p>
      Мы знаем, что эмоции не подделаешь, что тепло не <br /> рисуется в фотошопе
      и что искренность нельзя <br /> прописать в ТЗ. Поэтому всё, что вы прочтёте
      —
      <br />
      настоящее, написанное по зову сердца. Именно <br /> такие истории вдохновляют
      нас снова и снова <br /> вкладывать душу в каждую деталь.
    </p>
  </div>
</div>

<div class="media">
  <p class="media__title">Больше отзывов:</p>
  <div class="media__links">
    <span class="hover-text">
      Яндекс
      <Underline class="hover-svg" preserveAspectRatio="none" />
    </span>
    <span class="hover-text">
      Instagramm
      <Underline class="hover-svg" preserveAspectRatio="none" />
    </span>
    <span class="hover-text">
      Вконтакте
      <Underline class="hover-svg" preserveAspectRatio="none" />
    </span>
  </div>
</div>
<style is:global>
  .hover-text {
    display: inline-block;
    position: relative;
  }

  /* SVG подчеркивание */
  .hover-svg {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    height: 2px;
    pointer-events: none;
    overflow: visible;
  }

  /* Анимация для path */
  .hover-path {
    fill: none;
    stroke: #57718c;
    stroke-width: 1;
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
    transition: stroke-dashoffset 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* При наведении активируем анимацию */
  .hover-text:hover .hover-path {
    stroke-dashoffset: 0;
  }

  /* Альтернативный вариант с заливкой */
  .hover-text.fill-variant .hover-path {
    fill: #57718c;
    stroke: none;
    opacity: 0;
    transition: opacity 0.6s ease-in-out;
  }

  .hover-text.fill-variant:hover .hover-path {
    opacity: 1;
  }

  /* Вариант с анимацией рисования слева направо */
  .hover-text.left-to-right .hover-path {
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
    animation: none;
  }

  .hover-text.left-to-right:hover .hover-path {
    animation: drawLine 1s ease-in-out forwards;
  }

  @keyframes drawLine {
    to {
      stroke-dashoffset: 0;
    }
  }

  .review-description {
    margin-top: 4rem;
    display: flex;
    flex-direction: column;
    text-align: center;
    gap: 2rem;
    color: var(--text-color-tertiary);
  }
  .media {
    margin-top: auto;
    display: flex;
    flex-direction: column;
    text-align: center;
    gap: 1rem;
    margin-bottom: 1rem;
  }
  .media__title {
    color: var(--text-color-fourth);
  }
  .media__links {
    color: var(--brand-color);
    display: flex;
    gap: 3rem;
    justify-content: center;
  }
</style>
