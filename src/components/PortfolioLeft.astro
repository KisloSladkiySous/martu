---
import SectionAware from "../components/SectionAware.astro";
import CircleAlt from "../components/CircleAlt.astro";
import PortfolioVisual from "../assets/images/portfolio-section.png";
import PortfolioSign from "../assets/icons/sign/portfolio-sign.svg";
import SvgAnimation from "./SvgAnimation.astro";
import ContactButton from "../components/ContactButton.astro";
const imageSources = [
  {
    srcset: PortfolioVisual.src,
    media: "(max-width: 1440)",
    type: "image/png",
  },
];
const { className } = Astro.props;
---

<div class:list={[className, "section-column__wrapper"]}>
  <div class="section-column__wrapper-inner">
    <h2 class="section__title">
      Образы, <br />
      <span class="brand-color italic underline"
        >прикосновения

        <SvgAnimation style="bottom: -0.6rem;">
          <PortfolioSign />
        </SvgAnimation>
      </span>

      <br /> и моменты
    </h2>
    <div class="portfolio__visual">
      <SectionAware
        sources={imageSources}
        src={PortfolioVisual.src}
        alt="Feature"
        height="100%"
        width="100%"
        preloadSections={1}
        sectionSelector="[data-section]"
      />
    </div>
    <div class="description">
      <p class="text">
        Каждая свадьба — это диалог с парой, поиск <br /> визуального кода, который
        откликается именно им.
      </p>
      <p class="text">
        Воспоминания о наших мероприятиях живут долго, сквозь года передают
        эмоции и заставляют проживать незабываемые моменты снова и снова.
      </p>
    </div>
    <div class="show-portfolio_mobile">
      <ContactButton
        link={`${import.meta.env.BASE_URL}/portfolio`}
        backgroundColor="240, 216, 181"
        alpha="1"
        textColor="rgba(85, 85, 85, 1)"
      >
        Смотреть портфолио
      </ContactButton>
    </div>

    <a
      class="show-portfolio"
      href={`${import.meta.env.BASE_URL}/portfolio`}
      target="_blank"
      aria-label="Смотреть портфолио"
    >
      <CircleAlt height="11.875rem" borderColor="#57718C">
        <span slot="text" class="circle-text">
          <p class="portfolio">Смотреть <br /> портфолио</p>
        </span>
      </CircleAlt>
    </a>
  </div>
</div>

<style>
  .circle-text {
    color: var(--brand-color);
    display: block;
    text-align: center;
  }

  .portfolio__visual {
    display: flex;
    justify-content: center;
    margin-top: 3.25rem;
    margin-bottom: 3.75rem;
  }

  .description {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    text-align: center;
    margin-top: auto;
    margin-bottom: 1rem;
  }
  .show-portfolio {
    position: absolute;
    right: 0;
    top: 50%;
    transform: translate(calc(11.875rem - 50%), -70%);
    z-index: 12;
  }

  .show-portfolio_mobile {
    display: none;
    margin: 0 auto;
  }

  @media (max-width: 1025px) {
    .show-portfolio {
      display: none;
    }
    .show-portfolio_mobile {
      display: block;
    }
  }

  @media (max-width: 475px) {
    .description {
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .portfolio__visual {
      margin-top: 2rem;
      margin-bottom: 1.5rem;
    }
  }
  @media (max-width: 375px) {
    .portfolio__visual {
      margin-top: 1.25rem;
      margin-bottom: 1rem;
    }
  }
</style>
